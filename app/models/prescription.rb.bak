class Prescription < ApplicationRecord
	validates :number, :exp_date, :children, :status, :doctor_id, :medicine_id, :quantity, presence: true
	validates :quantity, :user_id, :medicine_id, :doctor_id, :ordered_medicine_id, numericality: true
	validates :number, format: { with: /лалЏ[0-9]{6}$/ }
	validates :exp_date, comparison: { greater_than_or_equal_to: Date.today }
	validates_date :exp_date
	
	enum status: {
		active: 0,
		expired: 1,
		used: 2
	}
	
	belongs_to :doctor
	belongs_to :pharmacist
	belongs_to :medicine
	belongs_to :ordered_medicine
end
